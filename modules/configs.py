import os
from pathlib import Path
from configparser import ConfigParser
import easygui

os.system("")


class style():
    
    BLACK = '\033[30m'
    RED = '\033[31m'
    GREEN = '\033[32m'
    YELLOW = '\033[33m'
    BLUE = '\033[34m'
    MAGENTA = '\033[35m'
    CYAN = '\033[36m'
    WHITE = '\033[37m'
    UNDERLINE = '\033[4m'
    RESET = '\033[0m'

#################################################################################################################################################################################################################################################################

def Home_Path():
    home_path = str(Path.home())
    return home_path

#################################################################################################################################################################################################################################################################

def Config_Path():
    Config_Path = 'config/config.ini'
    return Config_Path

#################################################################################################################################################################################################################################################################

def Config_Exists():
    Exists = os.path.exists(Config_Path())
    return Exists

#################################################################################################################################################################################################################################################################

def Config():
    config = ConfigParser()
    return config

#################################################################################################################################################################################################################################################################

def Config_Read():
    config = Config()
    config.read(Config_Path())
    return config

#################################################################################################################################################################################################################################################################

def Config_Creator(home_path):

    Config_Exist = 'config/config.ini'
    # os.path.exists(Config_Exist)
    Config_Exist = os.path.exists(Config_Exist)
    conf_path = 'config/config.ini'
    config = ConfigParser()
    while Config_Exist is False:
        try:
            Database_Path = easygui.fileopenbox()
            print(Database_Path)

            d_check = Database_Path
            d_check = os.path.exists(d_check)

            # print(d_check)
            # print(Database_Path)

            config["DEFAULT"] = {
                'database_path': str(Database_Path),
                'Discord Presence' : True
            }
            with open(Config_Path, 'w') as f:
                config.write(f)

            if d_check is True:
                break
            
            else:
                print(f'{style.RED}File Path Doesn\'t Exist! Please try again.{style.RESET}\n:')

        except ValueError:
            print(f'Error, Please input that again')
            
#################################################################################################################################################################################################################################################################   

#################################################################################################################################################################################################################################################################

def Database_Selector():
    database_path = easygui.fileopenbox('Please select your decrypted database.')
    config = Config_Read()
    config.set('DEFAULT', 'database_path', database_path)
    
    with open(Config_Path(), 'w') as config_file:
        config.write(config_file)

#################################################################################################################################################################################################################################################################